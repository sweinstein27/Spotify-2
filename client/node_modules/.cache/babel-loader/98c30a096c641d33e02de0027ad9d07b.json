{"ast":null,"code":"import _classCallCheck from \"/home/learn/spotify-2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/learn/spotify-2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/learn/spotify-2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/learn/spotify-2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/learn/spotify-2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/learn/spotify-2/client/src/containers/HomeContainer.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport SpotifyWebApi from 'spotify-web-api-js';\nimport $ from 'jquery';\nimport SearchList from '../components/SearchList';\nimport Search from '../components/Search';\nvar spotifyApi = new SpotifyWebApi();\nvar trackID;\nvar ID;\nvar trackProgress;\nvar searchObject;\nvar token;\n\nvar HomeContainer =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(HomeContainer, _Component);\n\n  function HomeContainer() {\n    var _this;\n\n    _classCallCheck(this, HomeContainer);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(HomeContainer).call(this));\n\n    var params = _this.getHashParams();\n\n    token = params.access_token;\n\n    if (token) {\n      spotifyApi.setAccessToken(token);\n\n      _this.saveToken();\n    }\n\n    _this.state = {\n      loggedIn: token ? true : false,\n      nowPlaying: {\n        name: 'Not Checked',\n        albumArt: ''\n      },\n      trackData: {\n        key: \"\",\n        bpm: \"\"\n      },\n      searchObject: [],\n      selectedSongID: \"\",\n      token: []\n    };\n    return _this;\n  }\n\n  _createClass(HomeContainer, [{\n    key: \"saveToken\",\n    value: function saveToken() {\n      this.setState({\n        token: token\n      });\n    }\n  }, {\n    key: \"getHashParams\",\n    value: function getHashParams() {\n      var hashParams = {};\n      var e,\n          r = /([^&;=]+)=?([^&;]*)/g,\n          q = window.location.hash.substring(1);\n      e = r.exec(q);\n\n      while (e) {\n        hashParams[e[1]] = decodeURIComponent(e[2]);\n        e = r.exec(q);\n      }\n\n      return hashParams;\n    }\n  }, {\n    key: \"getNowPlaying\",\n    value: function getNowPlaying() {\n      var _this2 = this;\n\n      spotifyApi.getMyCurrentPlaybackState().then(function (response) {\n        trackID = response.item.id;\n        trackProgress = response.progress_ms;\n\n        _this2.setState({\n          nowPlaying: {\n            name: response.item.name,\n            albumArt: response.item.album.images[0],\n            trackProgress: response.progress_ms\n          }\n        });\n      });\n    }\n  }, {\n    key: \"getAudioDetails\",\n    value: function getAudioDetails() {\n      var _this3 = this;\n\n      var Url = \"https://api.spotify.com/v1/audio-analysis/\" + \"\".concat(trackID);\n      $.ajax({\n        url: Url,\n        headers: {\n          'Authorization': \"Bearer \".concat(token)\n        },\n        type: \"GET\",\n        contentType: JSON // success: function(data){\n        //   this.setState({\n        //     trackData: {\n        //       key: data.track.key,\n        //       bpm: data.track.tempo\n        //     }\n        //   })\n        //   debugger\n        //   console.log(data)\n        // },\n        // error: function(data){\n        //   debugger\n        //   console.log(data.responseText)\n        // }\n\n      }).then(function (response) {\n        _this3.setState({\n          trackData: {\n            key: response.track.key,\n            bpm: response.track.tempo\n          }\n        });\n      });\n      debugger;\n    }\n  }, {\n    key: \"getPause\",\n    value: function getPause() {\n      spotifyApi.pause();\n    }\n  }, {\n    key: \"getPlay\",\n    value: function getPlay() {\n      spotifyApi.play();\n    }\n  }, {\n    key: \"me\",\n    value: function me() {\n      spotifyApi.getMe().then(function (response) {\n        ID = response.id;\n      });\n    }\n  }, {\n    key: \"skipSong\",\n    value: function skipSong() {\n      spotifyApi.skipToNext();\n    }\n  }, {\n    key: \"previousSong\",\n    value: function previousSong() {\n      spotifyApi.skipToPrevious();\n    }\n  }, {\n    key: \"seek\",\n    value: function seek() {\n      var newPosition = trackProgress + 30000;\n      var Url = \"https://api.spotify.com/v1/me/player/seek?position_ms=\" + \"\".concat(newPosition);\n      debugger;\n      $.ajax({\n        url: Url,\n        headers: {\n          'Authorization': \"Bearer \".concat(token)\n        },\n        type: \"PUT\",\n        contentType: JSON,\n        success: function success(data) {\n          console.log(\"success\");\n        },\n        error: function error(_error) {\n          console.log(\"Error is \".concat(_error));\n        }\n      });\n    }\n  }, {\n    key: \"search\",\n    value: function search() {\n      var _this4 = this;\n\n      $.ajax({\n        url: \"https://api.spotify.com/v1/search?q=abba&type=track&market=US&offset=0\",\n        headers: {\n          'Authorization': \"Bearer \".concat(token)\n        },\n        type: \"GET\",\n        contentType: JSON\n      }).then(function (data) {\n        debugger;\n\n        _this4.setState({\n          searchObject: data.tracks.items\n        });\n      });\n    } // songInfo(object){\n    //  debugger\n    // }\n\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.search();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"http://localhost:8888\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, \" Login to Spotify \"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, \"Now Playing: \", this.state.nowPlaying.name), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }, \"Current Possition: \", this.state.nowPlaying.trackProgress), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, \"Key: \", this.state.trackData.key), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, \"BPM: \", this.state.trackData.bpm), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: this.state.nowPlaying.albumArt,\n        style: {\n          height: 150\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      })), this.state.loggedIn && React.createElement(\"button\", {\n        onClick: function onClick() {\n          return _this5.getNowPlaying();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }, \"Check Now Playing\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: function onClick() {\n          return _this5.getAudioDetails();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }, \"Audio Details\")), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: function onClick() {\n          return _this5.getPlay();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }, \"Play\")), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: function onClick() {\n          return _this5.getPause();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }, \"Pause\")), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: function onClick() {\n          return _this5.skipSong();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }, \"Next Song\")), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: function onClick() {\n          return _this5.previousSong();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      }, \"Previous Song\")), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: function onClick() {\n          return _this5.seek();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231\n        },\n        __self: this\n      }, \"Seek Forward\")), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: function onClick() {\n          return _this5.me();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236\n        },\n        __self: this\n      }, \"User Info\")));\n    }\n  }]);\n\n  return HomeContainer;\n}(Component);\n\nexport default HomeContainer;","map":{"version":3,"sources":["/home/learn/spotify-2/client/src/containers/HomeContainer.js"],"names":["React","Component","axios","SpotifyWebApi","$","SearchList","Search","spotifyApi","trackID","ID","trackProgress","searchObject","token","HomeContainer","params","getHashParams","access_token","setAccessToken","saveToken","state","loggedIn","nowPlaying","name","albumArt","trackData","key","bpm","selectedSongID","setState","hashParams","e","r","q","window","location","hash","substring","exec","decodeURIComponent","getMyCurrentPlaybackState","then","response","item","id","progress_ms","album","images","Url","ajax","url","headers","type","contentType","JSON","track","tempo","pause","play","getMe","skipToNext","skipToPrevious","newPosition","success","data","console","log","error","tracks","items","search","height","getNowPlaying","getAudioDetails","getPlay","getPause","skipSong","previousSong","seek","me"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,aAAP,MAA0B,oBAA1B;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AAIA,IAAMC,UAAU,GAAG,IAAIJ,aAAJ,EAAnB;AACA,IAAIK,OAAJ;AACA,IAAIC,EAAJ;AACA,IAAIC,aAAJ;AACA,IAAIC,YAAJ;AACA,IAAIC,KAAJ;;IAGMC,a;;;;;AACJ,2BAAa;AAAA;;AAAA;;AACX;;AACA,QAAMC,MAAM,GAAG,MAAKC,aAAL,EAAf;;AACAH,IAAAA,KAAK,GAAGE,MAAM,CAACE,YAAf;;AACA,QAAIJ,KAAJ,EAAW;AACTL,MAAAA,UAAU,CAACU,cAAX,CAA0BL,KAA1B;;AACA,YAAKM,SAAL;AACD;;AAED,UAAKC,KAAL,GAAa;AACXC,MAAAA,QAAQ,EAAER,KAAK,GAAG,IAAH,GAAU,KADd;AAEXS,MAAAA,UAAU,EAAE;AAAEC,QAAAA,IAAI,EAAE,aAAR;AAAuBC,QAAAA,QAAQ,EAAE;AAAjC,OAFD;AAGXC,MAAAA,SAAS,EAAE;AACTC,QAAAA,GAAG,EAAE,EADI;AAETC,QAAAA,GAAG,EAAE;AAFI,OAHA;AAOXf,MAAAA,YAAY,EAAE,EAPH;AAQXgB,MAAAA,cAAc,EAAE,EARL;AASXf,MAAAA,KAAK,EAAE;AATI,KAAb;AATW;AAoBZ;;;;gCAEW;AACV,WAAKgB,QAAL,CAAc;AACZhB,QAAAA,KAAK,EAAEA;AADK,OAAd;AAGD;;;oCAGe;AACd,UAAIiB,UAAU,GAAG,EAAjB;AACA,UAAIC,CAAJ;AAAA,UAAOC,CAAC,GAAG,sBAAX;AAAA,UACEC,CAAC,GAAGC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBC,SAArB,CAA+B,CAA/B,CADN;AAEAN,MAAAA,CAAC,GAAGC,CAAC,CAACM,IAAF,CAAOL,CAAP,CAAJ;;AACA,aAAOF,CAAP,EAAU;AACRD,QAAAA,UAAU,CAACC,CAAC,CAAC,CAAD,CAAF,CAAV,GAAmBQ,kBAAkB,CAACR,CAAC,CAAC,CAAD,CAAF,CAArC;AACAA,QAAAA,CAAC,GAAGC,CAAC,CAACM,IAAF,CAAOL,CAAP,CAAJ;AACD;;AACD,aAAOH,UAAP;AACD;;;oCAEc;AAAA;;AACbtB,MAAAA,UAAU,CAACgC,yBAAX,GACGC,IADH,CACQ,UAACC,QAAD,EAAc;AAClBjC,QAAAA,OAAO,GAAGiC,QAAQ,CAACC,IAAT,CAAcC,EAAxB;AACAjC,QAAAA,aAAa,GAAG+B,QAAQ,CAACG,WAAzB;;AACA,QAAA,MAAI,CAAChB,QAAL,CAAc;AACZP,UAAAA,UAAU,EAAE;AACRC,YAAAA,IAAI,EAAEmB,QAAQ,CAACC,IAAT,CAAcpB,IADZ;AAERC,YAAAA,QAAQ,EAAEkB,QAAQ,CAACC,IAAT,CAAcG,KAAd,CAAoBC,MAApB,CAA2B,CAA3B,CAFF;AAGRpC,YAAAA,aAAa,EAAE+B,QAAQ,CAACG;AAHhB;AADA,SAAd;AAOD,OAXH;AAYD;;;sCAEiB;AAAA;;AAChB,UAAIG,GAAG,GAAG,yDAAkDvC,OAAlD,CAAV;AACAJ,MAAAA,CAAC,CAAC4C,IAAF,CAAO;AACLC,QAAAA,GAAG,EAAEF,GADA;AAELG,QAAAA,OAAO,EAAE;AACP,4CAA2BtC,KAA3B;AADO,SAFJ;AAKLuC,QAAAA,IAAI,EAAE,KALD;AAMLC,QAAAA,WAAW,EAAEC,IANR,CAOL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AApBK,OAAP,EAsBCb,IAtBD,CAsBO,UAACC,QAAD,EAAc;AACnB,QAAA,MAAI,CAACb,QAAL,CAAc;AACZJ,UAAAA,SAAS,EAAE;AACTC,YAAAA,GAAG,EAAEgB,QAAQ,CAACa,KAAT,CAAe7B,GADX;AAETC,YAAAA,GAAG,EAAEe,QAAQ,CAACa,KAAT,CAAeC;AAFX;AADC,SAAd;AAMD,OA7BD;AA8BA;AACD;;;+BAEU;AACThD,MAAAA,UAAU,CAACiD,KAAX;AACD;;;8BAEQ;AACPjD,MAAAA,UAAU,CAACkD,IAAX;AACD;;;yBAEG;AACFlD,MAAAA,UAAU,CAACmD,KAAX,GACClB,IADD,CACM,UAACC,QAAD,EAAc;AAClBhC,QAAAA,EAAE,GAAGgC,QAAQ,CAACE,EAAd;AACD,OAHD;AAID;;;+BAES;AACRpC,MAAAA,UAAU,CAACoD,UAAX;AACD;;;mCAEa;AACZpD,MAAAA,UAAU,CAACqD,cAAX;AACD;;;2BAEK;AACJ,UAAIC,WAAW,GAAGnD,aAAa,GAAG,KAAlC;AACA,UAAIqC,GAAG,GAAG,qEAA8Dc,WAA9D,CAAV;AACA;AACAzD,MAAAA,CAAC,CAAC4C,IAAF,CAAO;AACPC,QAAAA,GAAG,EAAEF,GADE;AAEPG,QAAAA,OAAO,EAAE;AACP,4CAA2BtC,KAA3B;AADO,SAFF;AAKLuC,QAAAA,IAAI,EAAE,KALD;AAMLC,QAAAA,WAAW,EAAEC,IANR;AAOLS,QAAAA,OAAO,EAAE,iBAASC,IAAT,EAAc;AACrBC,UAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACD,SATI;AAULC,QAAAA,KAAK,EAAE,eAASA,MAAT,EAAe;AACpBF,UAAAA,OAAO,CAACC,GAAR,oBAAwBC,MAAxB;AACD;AAZI,OAAP;AAcD;;;6BAEO;AAAA;;AACN9D,MAAAA,CAAC,CAAC4C,IAAF,CAAO;AACLC,QAAAA,GAAG,EAAE,wEADA;AAELC,QAAAA,OAAO,EAAE;AACP,4CAA2BtC,KAA3B;AADO,SAFJ;AAKLuC,QAAAA,IAAI,EAAE,KALD;AAMLC,QAAAA,WAAW,EAAEC;AANR,OAAP,EAQCb,IARD,CAQO,UAACuB,IAAD,EAAU;AACf;;AACE,QAAA,MAAI,CAACnC,QAAL,CAAc;AACVjB,UAAAA,YAAY,EAAEoD,IAAI,CAACI,MAAL,CAAYC;AADhB,SAAd;AAGH,OAbD;AAcD,K,CAED;AACA;AACA;;;;wCAIqB;AACf,WAAKC,MAAL;AACH;;;6BAGM;AAAA;;AACP,aACE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAG,QAAA,IAAI,EAAC,uBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BACiB,KAAKlD,KAAL,CAAWE,UAAX,CAAsBC,IADvC,CAFF,EAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCACuB,KAAKH,KAAL,CAAWE,UAAX,CAAsBX,aAD7C,CALF,EAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACS,KAAKS,KAAL,CAAWK,SAAX,CAAqBC,GAD9B,CARF,EAWE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACS,KAAKN,KAAL,CAAWK,SAAX,CAAqBE,GAD9B,CAXF,EAcE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,GAAG,EAAE,KAAKP,KAAL,CAAWE,UAAX,CAAsBE,QAAhC;AAA0C,QAAA,KAAK,EAAE;AAAE+C,UAAAA,MAAM,EAAE;AAAV,SAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAdF,EAiBI,KAAKnD,KAAL,CAAWC,QAAX,IACA;AAAQ,QAAA,OAAO,EAAE;AAAA,iBAAM,MAAI,CAACmD,aAAL,EAAN;AAAA,SAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAlBJ,EAsBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAQ,QAAA,OAAO,EAAE;AAAA,iBAAM,MAAI,CAACC,eAAL,EAAN;AAAA,SAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADF,CAtBF,EA2BE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAQ,QAAA,OAAO,EAAE;AAAA,iBAAM,MAAI,CAACC,OAAL,EAAN;AAAA,SAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,CA3BF,EAgCE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAQ,QAAA,OAAO,EAAE;AAAA,iBAAM,MAAI,CAACC,QAAL,EAAN;AAAA,SAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,CAhCF,EAqCE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAQ,QAAA,OAAO,EAAE;AAAA,iBAAM,MAAI,CAACC,QAAL,EAAN;AAAA,SAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,CArCF,EA0CE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAQ,QAAA,OAAO,EAAE;AAAA,iBAAM,MAAI,CAACC,YAAL,EAAN;AAAA,SAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADF,CA1CF,EA+CE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAQ,QAAA,OAAO,EAAE;AAAA,iBAAM,MAAI,CAACC,IAAL,EAAN;AAAA,SAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,CA/CF,EAoDE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAQ,QAAA,OAAO,EAAE;AAAA,iBAAM,MAAI,CAACC,EAAL,EAAN;AAAA,SAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,CApDF,CADF;AA6DD;;;;EAjOyB7E,S;;AAoO5B,eAAeY,aAAf","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios'\nimport SpotifyWebApi from 'spotify-web-api-js';\nimport $ from 'jquery';\nimport SearchList from '../components/SearchList'\nimport Search from '../components/Search'\n\n\n\nconst spotifyApi = new SpotifyWebApi();\nvar trackID;\nvar ID;\nvar trackProgress;\nvar searchObject;\nvar token\n\n\nclass HomeContainer extends Component {\n  constructor(){\n    super();\n    const params = this.getHashParams();\n    token = params.access_token;\n    if (token) {\n      spotifyApi.setAccessToken(token);\n      this.saveToken();\n    }\n    \n    this.state = {\n      loggedIn: token ? true : false,\n      nowPlaying: { name: 'Not Checked', albumArt: '' },\n      trackData: {\n        key: \"\",\n        bpm: \"\"\n      },\n      searchObject: [],\n      selectedSongID: \"\",\n      token: []\n    }\n  }\n\n  saveToken() {\n    this.setState({\n      token: token\n    })\n  }\n  \n\n  getHashParams() {\n    var hashParams = {};\n    var e, r = /([^&;=]+)=?([^&;]*)/g,\n      q = window.location.hash.substring(1);\n    e = r.exec(q)\n    while (e) {\n      hashParams[e[1]] = decodeURIComponent(e[2]);\n      e = r.exec(q);\n    }\n    return hashParams;\n  }\n\n  getNowPlaying(){\n    spotifyApi.getMyCurrentPlaybackState()\n      .then((response) => {\n        trackID = response.item.id\n        trackProgress = response.progress_ms\n        this.setState({\n          nowPlaying: { \n              name: response.item.name, \n              albumArt: response.item.album.images[0],\n              trackProgress: response.progress_ms\n            }\n        });\n      })\n  }\n\n  getAudioDetails() {\n    var Url = \"https://api.spotify.com/v1/audio-analysis/\" + `${trackID}`\n    $.ajax({\n      url: Url,\n      headers: {\n        'Authorization': `Bearer ${token}`,\n      },\n      type: \"GET\",\n      contentType: JSON,\n      // success: function(data){\n      //   this.setState({\n      //     trackData: {\n      //       key: data.track.key,\n      //       bpm: data.track.tempo\n      //     }\n      //   })\n      //   debugger\n      //   console.log(data)\n      // },\n      // error: function(data){\n      //   debugger\n      //   console.log(data.responseText)\n      // }\n    })\n    .then ((response) => {\n      this.setState({\n        trackData: {\n          key: response.track.key,\n          bpm: response.track.tempo\n        }\n      })\n    })\n    debugger\n  }\n\n  getPause() {\n    spotifyApi.pause()\n  }\n\n  getPlay(){\n    spotifyApi.play()\n  }\n\n  me(){\n    spotifyApi.getMe()\n    .then((response) => {\n      ID = response.id\n    })\n  }\n  \n  skipSong(){\n    spotifyApi.skipToNext()\n  }\n\n  previousSong(){\n    spotifyApi.skipToPrevious()\n  }\n\n  seek(){\n    var newPosition = trackProgress + 30000\n    var Url = \"https://api.spotify.com/v1/me/player/seek?position_ms=\" + `${newPosition}`\n    debugger\n    $.ajax({\n    url: Url,\n    headers: {\n      'Authorization': `Bearer ${token}`,\n    },\n      type: \"PUT\",\n      contentType: JSON,\n      success: function(data){\n        console.log(\"success\")\n      },\n      error: function(error){\n        console.log(`Error is ${error}`)\n      }\n    })\n  }\n\n  search(){\n    $.ajax({\n      url: \"https://api.spotify.com/v1/search?q=abba&type=track&market=US&offset=0\",\n      headers: {\n        'Authorization': `Bearer ${token}`,\n      },\n      type: \"GET\",\n      contentType: JSON,\n    })\n    .then ((data) => {\n      debugger\n        this.setState({\n            searchObject: data.tracks.items\n        })\n    })\n  }\n\n  // songInfo(object){\n  //  debugger\n  // }\n\n \n\n    componentDidMount(){\n        this.search()\n    }\n  \n    \n  render() {\n    return (\n      <div className=\"App\">\n        <a href='http://localhost:8888' > Login to Spotify </a>\n        <div>\n          Now Playing: { this.state.nowPlaying.name }\n        </div>\n        <div>\n          Current Possition: { this.state.nowPlaying.trackProgress}\n        </div>\n        <div>\n          Key: { this.state.trackData.key }  \n        </div>\n        <div>\n          BPM: { this.state.trackData.bpm } \n        </div>\n        <div>\n          <img src={this.state.nowPlaying.albumArt} style={{ height: 150 }}/>\n        </div>\n        { this.state.loggedIn &&\n          <button onClick={() => this.getNowPlaying()}>\n            Check Now Playing\n          </button>\n        }\n        <div>\n          <button onClick={() => this.getAudioDetails()}>\n            Audio Details\n          </button>\n        </div>\n        <div>\n          <button onClick={() => this.getPlay()}>\n            Play\n          </button>\n        </div>\n        <div>\n          <button onClick={() => this.getPause()}>\n            Pause\n          </button>\n        </div>\n        <div>\n          <button onClick={() => this.skipSong()}>\n            Next Song\n          </button>\n        </div>\n        <div>\n          <button onClick={() => this.previousSong()}>\n            Previous Song\n          </button>\n        </div>\n        <div>\n          <button onClick={() => this.seek()}>\n            Seek Forward\n          </button>\n        </div>\n        <div>\n          <button onClick={() => this.me()}>\n            User Info\n          </button>\n        </div>\n        \n      </div>\n    );\n  }\n}\n\nexport default HomeContainer;"]},"metadata":{},"sourceType":"module"}